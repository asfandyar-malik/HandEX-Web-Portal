<div class="container">
    <div class="section sign-in">
        <div class="row valign-wrapper">
            <div class="col s12 m6">
                <div class="text-section black-text">
                    <a class="smooth"><%= image_tag "HandEX_logo4.png", style: 'height:5em;width:auto;' %></a>
                    <h4>Konto registrieren.</h4>
                    <p class="light">Wir freuen uns, dass Sie sich entschieden haben HandEX zu nutzen.<br>
                        Wir brauchen nur noch folgende Informationen, um zu starten.<br>

                    </p>
                    <a href="/login" class="un"><u>Haben Sie bereits ein Account ? Bitte loggen Sie sich ein.</u></a>
                </div>
            </div>
            <div class="col s12 m6">
                <div class="col s12 custom-form">
                    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>

                        <div class="form-section z-depth-2">

                            <div class="row">
                                <div class="col s12">
                                    <div class="form-content">
                                        <div class="row">

                                            <div class="input-field col s12">
                                                <label>Firmenname</label>
                                                <%= f.text_field :company_name, id: "company_name", required: true, autofocus: true, class: "validate" %>
                                            </div>

                                            <div class="input-field col s12 m6">
                                                <label>Vorname</label>
                                                <%= f.text_field :firstname, autofocus: true, class: "validate" %>
                                            </div>

                                            <div class="input-field col s12 m6">
                                                <label>Nachname</label>
                                                <%= f.text_field :lastname, id: "last_name", autofocus: true, class: "validate" %>
                                            </div>

                                            <div class="input-field col s12 m6">
                                                <label>E-Mail</label>
                                                <%= f.email_field :email, autofocus: true, required: true, class: "validate" %>
                                            </div>

                                            <div class="input-field col s12 m6">
                                                <label>Telefonnummer</label>
                                                <%= f.text_field :phone_number, autofocus: true, class: "validate" %>
                                            </div>

                                            <div class="input-field col s12 m12">
                                                <label>Ich bin ein Makler oder möchte nicht selbst Exportfinanzierung erhalten. </label>
                                                <p>
                                                    <label onclick="isBroker()">
                                                        <%= check_box_tag "user[is_broker]", @user.is_broker ? @user.is_broker : nil, false, id: "user_is_broker" %>
                                                        <span class="yes yes-no-btns">Ja</span>
                                                    </label>

                                                    <label onclick="noIsBroker()">
                                                        <span style="font-size: 14px; padding-bottom: 11px; padding-top: 11px" class="no yes-no-btns">Nein</span>
                                                    </label>
                                                </p>
                                            </div>

                                            <div class="input-field col s12">
                                                <% if @minimum_password_length %>
                                                    <p>Passwort (Mindestens <%= @minimum_password_length %>  Zeichen)</p>
                                                <% end %>

                                                <%= f.password_field :password, required: true,  minlength: 6 , autocomplete: "off", class: "form-control" %>
                                            </div>

                                            <div class="col s12">
                                                <label>
                                                    <input type="checkbox" required/>

                                                    <span class="black-text text-bold"><strong> Ich akzeptiere die
                                                    <span> <a target="_blank" rel="noopener noreferrer" href="/pages/registration_terms_and_conditions"> Allgemeinen Geschäftbedingungen von HandEX</a></span>
                                                      </strong> </span>
                                                </label>
                                            </div>

                                            <div class="input-field col s12">
                                                <div class= "actions">
                                                    <%= f.submit "Registrieren", id: "submit",  class: "btn z-depth-0 handex-btn handex-big-btn btn-flat z-depth-0 validate white-text"%>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <% end %>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(".yes-no-btns").click(function (e) {
        $(this).toggleClass("active-btn");
        if ($(this).hasClass("yes")) {
            $(this).closest(".input-field").find(".hide-section").toggle();
            $(this).closest('p').find('.no.yes-no-btns').removeClass("active-btn");
        } else {
            $(this).closest(".input-field").find(".hide-section").hide();
            $(this).closest('p').find('.yes.yes-no-btns').removeClass("active-btn");
        }
    });

    function isBroker() {
        $('#user_is_broker').prop('checked', true);
    }

    function noIsBroker() {
        $('#user_is_broker').prop('checked', false);
    }


</script>